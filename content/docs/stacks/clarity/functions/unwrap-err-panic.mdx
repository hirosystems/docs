---
title: unwrap-err-panic
description: Unpacking error responses and throwing runtime errors in Clarity smart contracts.
---

## Function Signature

```clarity
(unwrap-err-panic response-input)
```

- Input: `(response A B)`
- Output: `B`

## Why it matters

The `unwrap-err-panic` function is crucial for:

1. Unpacking error responses to access their inner values.
2. Implementing logic that requires handling error responses.
3. Ensuring data integrity by validating the error unpacking process.
4. Simplifying the process of handling error responses in smart contracts by throwing runtime errors when necessary.

## When to use it

Use `unwrap-err-panic` when you need to:

- Unpack error responses to access their inner values.
- Implement logic that requires handling error responses.
- Validate the error unpacking process to ensure data integrity.
- Handle error responses in your smart contract and throw runtime errors when necessary.

## Best Practices

- Ensure the input value is a response type.
- Use meaningful variable names for better readability.
- Combine with other error handling functions for comprehensive error management.
- Handle the possible error cases to ensure robust contract behavior.

## Practical Example: Unpacking an Error Response and Throwing a Runtime Error

Let's implement a function that processes an error response using `unwrap-err-panic`:

```clarity
(define-public (process-error-response (input (response int int)))
  (let
    (
      (errorValue (unwrap-err-panic input))
    )
    (ok errorValue)
  )
)

;; Usage
(process-error-response (err 42)) ;; Returns (ok 42)
(process-error-response (ok 1)) ;; Throws a runtime exception
```

This example demonstrates:
1. Using `unwrap-err-panic` to unpack an error response.
2. Implementing a public function to handle the error unpacking process.
3. Handling both successful and error cases, with runtime errors thrown for `ok` values.

## Common Pitfalls

1. Using `unwrap-err-panic` with values that are not response types, causing runtime errors.
2. Assuming the error unpacking will always succeed, leading to unhandled error cases.
3. Not handling all possible conditions, resulting in incomplete error management.
4. Overlooking the need for proper error handling and validation.

## Related Functions

- `unwrap!`: Unpacks optional and response types, returning a thrown value if unpacking fails.
- `unwrap-err!`: Unpacks error responses, returning a thrown value if the response is `ok`.
- `try!`: Unpacks optional and response types, returning `none` or the `err` value if unpacking fails.

## Conclusion

The `unwrap-err-panic` function is a fundamental tool for unpacking error responses and throwing runtime errors in Clarity smart contracts. It allows developers to implement logic that requires handling error responses, ensuring data integrity and simplifying the error unpacking process. When used effectively, `unwrap-err-panic` enhances the reliability and maintainability of your smart contract code by providing a clear and concise way to handle error responses and throw runtime errors when necessary.