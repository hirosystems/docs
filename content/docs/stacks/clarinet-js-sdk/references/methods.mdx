---
title: Methods
description: The Clarinet JS SDK provides several methods that can be used to interact with simnet.
toc: false
---

import { Root, API, APIExample } from "@/components/layout"
import { Property } from "fumadocs-ui/components/api"
import { Accordion, Accordions } from "fumadocs-ui/components/accordion"

import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"
import { Badge } from "@/components/ui/badge"

import { InlineCode } from "@/components/inline-code"

## Installation

```package-install
@hirosystems/clarinet-sdk @stacks/transactions
```

<Root>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`getAccounts`</h2>

Retrieve a list of all Stacks addresses configured within the project, including wallets, deployers, and faucets.

</div>

<APIExample>

<Tabs defaultValue="get-accounts">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="get-accounts" className='tab group'>
      <Badge className='badge transition-colors'>Getting your accounts</Badge>
    </TabsTrigger>
    <TabsTrigger value="get-account" className='tab group'>
      <Badge className='badge transition-colors'>Selecting a specific account</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="get-accounts">
    ```ts twoslash
    // @noErrors
    // [!code word:getAccounts]
    const accounts = simnet.getAccounts();
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        Map(10) {
          "wallet_7": "ST3PF13W7Z0RRM42A8VZRVFQ75SV1K26RXEP8YGKJ",
          "wallet_1": "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
          "wallet_3": "ST2JHG361ZXG51QTKY2NQCVBPPRRE2KZB1HR05NNC",
          "wallet_5": "ST2REHHS5J3CERCRBEPMGH7921Q6PYKAADT7JP2VB",
          "wallet_8": "ST3NBRSFKX28FQ2ZJ1MAKX58HKHSDGNV5N7R21XCP",
          "wallet_4": "ST2NEB84ASENDXKYGJPQW86YXQCEFEX2ZQPG87ND",
          "deployer": "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
          "wallet_6": "ST3AM1A56AK2C1XAFJ4115ZSV26EB49BVQ10MGCS0",
          "wallet_2": "ST2CY5V39NHDPWSXMW9QDT3HC3GD6Q6XX4CFRK9AG",
          "faucet": "STNHKEPYEPJ8ET55ZZ0M5A34J0R3N5FM2CMMMAZ6",
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getAccounts(): Map<string, string>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="get-account">
    ```ts twoslash
    // @noErrors
    const accounts = simnet.getAccounts();

    const wallet = accounts.get('wallet_1')!; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getAccounts(): Map<string, string>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`getAssetsMap`</h2>

Retrieve a list of asset balances associated with Stacks addresses, including fungible and non-fungible tokens.

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Getting STX account balances</Badge>
    </TabsTrigger>
    <TabsTrigger value="get-deployer-balance" className='tab group'>
      <Badge className='badge transition-colors'>Filtering for a specific account</Badge>
    </TabsTrigger>
    <TabsTrigger value="get-ft-balance" className='tab group'>
      <Badge className='badge transition-colors'>Getting ft balances</Badge>
    </TabsTrigger>
    <TabsTrigger value="get-nft-balance" className='tab group'>
      <Badge className='badge transition-colors'>Getting nft balances</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:getAssetsMap]
    const assets = simnet.getAssetsMap();

    const stxBalances = assets.get('STX')!; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        Map(10) {
          "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM": 100000000000000n,
          "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5": 100000000000000n,
          "ST2CY5V39NHDPWSXMW9QDT3HC3GD6Q6XX4CFRK9AG": 100000000000000n,
          "ST2JHG361ZXG51QTKY2NQCVBPPRRE2KZB1HR05NNC": 100000000000000n,
          "ST2NEB84ASENDXKYGJPQW86YXQCEFEX2ZQPG87ND": 100000000000000n,
          "ST2REHHS5J3CERCRBEPMGH7921Q6PYKAADT7JP2VB": 100000000000000n,
          "ST3AM1A56AK2C1XAFJ4115ZSV26EB49BVQ10MGCS0": 100000000000000n,
          "ST3NBRSFKX28FQ2ZJ1MAKX58HKHSDGNV5N7R21XCP": 100000000000000n,
          "ST3PF13W7Z0RRM42A8VZRVFQ75SV1K26RXEP8YGKJ": 100000000000000n,
          "STNHKEPYEPJ8ET55ZZ0M5A34J0R3N5FM2CMMMAZ6": 100000000000000n,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getAssetsMap(): Map<string, Map<string, bigint>>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="get-deployer-balance">
    ```ts twoslash
    // @noErrors
    const assets = simnet.getAssetsMap();
    const stxBalances = assets.get('STX')!;

    const deployerBalance = stxBalances.get('ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM')!; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        100000000000000n
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getAssetsMap(): Map<string, Map<string, bigint>>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="get-ft-balance">
    ```ts twoslash
    // @noErrors
    // [!code word:sbtc]
    const contractName = 'token';
    const sourceCode = `
      (define-fungible-token sbtc)
      (ft-mint? sbtc u19 tx-sender)
    `;

    simnet.deployContract(
      contractName,
      sourceCode,
      null,
      simnet.deployer
    );

    const assets = simnet.getAssetsMap();

    const tokenBalance = assets.get('.token.sbtc')!; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        Map(1) {
          "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM": 19n,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getAssetsMap(): Map<string, Map<string, bigint>>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="get-nft-balance">
    ```ts twoslash
    // @noErrors
    // [!code word:ticket]
    const contractName = 'nft';
    const sourceCode = `
      (define-non-fungible-token ticket uint)
      (nft-mint? ticket u42 tx-sender)
    `;

    simnet.deployContract(
      contractName,
      sourceCode,
      null,
      simnet.deployer
    );

    const assets = simnet.getAssetsMap();

    const nftBalance = assets.get('.nft.ticket')!; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        Map(1) {
          "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM": 1n,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getAssetsMap(): Map<string, Map<string, bigint>>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`getDataVar`</h2>

Get the value of a `data-var` defined in a contract.

## Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `counter`</span>
</Property>

<Property required={true} deprecated={false} name={"dataVar"} type={"string"}>
The name of the `data-var` for the contract.

<span>Example: `count`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Getting the value of a data variable</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge className='badge transition-colors'>Converting Clarity values</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:getDataVar]
    const currentCount = simnet.getDataVar('counter', 'count');
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="counter.clar"
        (define-data-var count uint u0) // [!code highlight]
        (define-data-var contractOwner principal tx-sender)

        (var-set count (+ (var-get count) u1)) // [!code highlight]
        (var-set contractOwner 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 1,
          value: 1n
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getDataVar(contract: string, dataVar: string): ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { cvToValue } from '@stacks/transactions';

    const contractOwner = simnet.getDataVar("counter", "contractOwner");

    const response = cvToValue(contractOwner); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="counter.clar"
        (define-data-var count uint u0)
        (define-data-var contractOwner principal tx-sender) // [!code highlight]

        (var-set count (+ (var-get count) u1))
        (var-set contractOwner 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5) // [!code highlight]
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getDataVar(contract: string, dataVar: string): ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`getMapEntry`</h2>

Get the value of a map entry by its key. Note that this method will always return an optional value `some` or `none`, just like Clarity `map-get?`.

## Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `pool`</span>
</Property>

<Property required={true} deprecated={false} name={"mapName"} type={"string"}>
The name of the map within the contract.

<span>Example: `Participants`</span>
</Property>

<Property required={true} deprecated={false} name={"mapKey"} type={"ClarityValue"}>
The key to access the value in the map.

<span>Example: `Cl.standardPrincipal('ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5')`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Getting the value of an entry</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge className='badge transition-colors'>Converting Clarity values</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:getMapEntry]
    import { Cl } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const hasParticipated = simnet.getMapEntry(
      "pool",
      "Participants",
      Cl.standardPrincipal(wallet)
    );
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        (define-map Participants principal bool) // [!code highlight]

        (map-set Participants 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5 true)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 10,
          value: {
            type: 3,
          },
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getMapEntry(
          contract: string,
          mapName: string,
          mapKey: ClarityValue
        ): ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { Cl, cvToValue } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const hasParticipated = simnet.getMapEntry(
      "pool",
      "Participants",
      Cl.standardPrincipal(wallet)
    );

    const response = cvToValue(hasParticipated); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        (define-map Participants principal bool) // [!code highlight]

        (map-set Participants 'ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5 true)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```console
        getMapEntry(
          contract: string,
          mapName: string,
          mapKey: ClarityValue
        ): ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`callReadOnlyFn`</h2>

Call read-only functions exposed by a contract.

This method returns an object with the result of the function call as a `ClarityValue`. It takes function arguments in the form of Clarity values, which are available in the package [`@stacks/transactions`](/stacks/stacks.js/packages/transactions).

## Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `pool`</span>
</Property>

<Property required={true} deprecated={false} name={"method"} type={"string"}>
The name of the read-only function within the contract.

<span>Example: `get-participant`</span>
</Property>

<Property required={true} deprecated={false} name={"args"} type={"ClarityValue[]"}>
The arguments to pass to the read-only function. If no arguments are needed, pass an empty array.

<span>Example: `[Cl.standardPrincipal('ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5')]`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Making a function call</Badge>
    </TabsTrigger>
    <TabsTrigger value="with-no-arguments" className='tab group'>
      <Badge className='badge transition-colors'>With no arguments</Badge>
    </TabsTrigger>
    <TabsTrigger value="deployer" className='tab group'>
      <Badge className='badge transition-colors'>With an explicit contract address</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge className='badge transition-colors'>Converting Clarity values</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:callReadOnlyFn]
    import { Cl } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const getContributionAmount = simnet.callReadOnlyFn(
      'pool',
      'get-contribution-amount',
      [Cl.standardPrincipal(wallet)],
      wallet
    );

    const response = getContributionAmount.result // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:get-contribution-amount]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 1,
          value: 420000000n,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }

        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="with-no-arguments">
    ```ts twoslash
    // @noErrors
    // [!code word:args]
    import { Cl } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('wallet_1')!;

    const isActive = simnet.callReadOnlyFn(
      'pool',
      'is-active',
      [], // [!code highlight]
      wallet
    );

    const response = isActive.result // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:is-active]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 10,
          value: {
            type: 3,
          },
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }

        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="deployer">
    ```ts twoslash
    // @noErrors
    import { Cl } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;
    const contractAddress = `${wallet}.pool`; // [!code highlight]

    const getParticipant = simnet.callReadOnlyFn(
      contractAddress, // [!code highlight]
      'get-participant',
      [Cl.standardPrincipal(wallet)],
      wallet
    );

    const response = getParticipant.result; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:get-participant]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 9,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }

        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { Cl, cvToValue } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const getContributionAmount = simnet.callReadOnlyFn(
      'pool',
      'get-contribution-amount',
      [Cl.standardPrincipal(wallet)],
      wallet
    );

    const response = cvToValue(getContributionAmount.result); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:get-contribution-amount]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (get-contribution-amount (who principal))
          (default-to u0 (get contributionAmount (get-participant who)))
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        42000000n
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
            result: ClarityValue;
            events: ClarityEvent[];
        }

        callReadOnlyFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`callPublicFn`</h2>

Call public functions exposed by a contract.

This method returns an object with the result of the function call as a `ClarityValue` and the events fired during the function execution. It takes function arguments in the form of Clarity values, which are available in the package [`@stacks/transactions`](/stacks/stacks.js/packages/transactions).

This method will simulate a block being mined and increase the block height by one.

## Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `pool`</span>
</Property>

<Property required={true} deprecated={false} name={"method"} type={"string"}>
The name of the public function within the contract.

<span>Example: `register-participant`</span>
</Property>

<Property required={true} deprecated={false} name={"args"} type={"ClarityValue[]"}>
The arguments to pass to the public function. If no arguments are needed, pass an empty array.

<span>Example: `[Cl.standardPrincipal('ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5')]`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Broadcasting your transaction</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge className='badge transition-colors'>Converting Clarity values</Badge>
    </TabsTrigger>
    <TabsTrigger value="events" className='tab group'>
      <Badge className='badge transition-colors'>Filtering for contract events</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:callPublicFn]
    import { Cl } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const registerParticipant = simnet.callPublicFn(
      'pool',
      'register-participant',
      [Cl.standardPrincipal(wallet)],
      wallet
    );

    const response = registerParticipant.result; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:register-participant]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (print { message: "Registered", who: who, at: block-height })
            (ok true)
          )
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 7,
          value: {
            type: 3,
          },
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        callPublicFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { Cl, cvToValue } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const registerParticipant = simnet.callPublicFn(
      'pool',
      'register-participant',
      [Cl.standardPrincipal(wallet)],
      wallet
    );

    const response = cvToValue(registerParticipant.result); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:register-participant]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (print { message: "Registered", who: who, at: block-height })
            (ok true)
          )
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        callPublicFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="events">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    // [!code word:ClarityValue]
    import { Cl, cvToValue, type ClarityValue } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;

    const registerParticipant = simnet.callPublicFn(
      'pool',
      'register-participant',
      [Cl.standardPrincipal(wallet)],
      wallet
    );

    const eventValues = registerParticipant.events.map((event) =>
      cvToValue(event.data.value as ClarityValue) // [!code highlight]
    );
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:register-participant]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (print { message: "Registered", who: who, at: block-height }) // [!code highlight]
            (ok true)
          )
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        [
          {
            at: {
              type: "uint",
              value: "2",
            },
            message: {
              type: "(string-ascii 10)",
              value: "Registered",
            },
            who: {
              type: "principal",
              value: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
            },
          }
        ]
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        callPublicFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`callPrivateFn`</h2>

Call private functions exposed by a contract.

This method returns an object with the result of the function call as a `ClarityValue` and the events, if any, fired during the function execution. It takes function arguments in the form of Clarity values, which are available in the package [`@stacks/transactions`](/stacks/stacks.js/packages/transactions).

This method will simulate a block being mined and increase the block height by one.

## Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The contract identifier of the contract.

<span>Example: `pool`</span>
</Property>

<Property required={true} deprecated={false} name={"method"} type={"string"}>
The name of the private function within the contract.

<span>Example: `reward-participant-points`</span>
</Property>

<Property required={true} deprecated={false} name={"args"} type={"ClarityValue[]"}>
The arguments to pass to the private function. If no arguments are needed, pass an empty array.

<span>Example: `[Cl.standardPrincipal('ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5')]`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Broadcasting your transaction</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge className='badge transition-colors'>Converting Clarity values</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:callPrivateFn]
    import { Cl } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;
    const address1 = accounts.get("wallet_1")!

    const rewardParticipantPoints = simnet.callPrivateFn(
      "pool",
      "reward-participant-points",
      [Cl.standardPrincipal(address1)],
      wallet
    );

    const response = rewardParticipantPoints.result; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:reward-participant-points]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })
        (define-map ParticipantPoints principal int)

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (reward-participant-points who)
            (print { message: "Registered", who: who, at: block-height })
            (ok true)
          )
        )

        (define-private (reward-participant-points (who principal))
            (map-insert ParticipantPoints who 100)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        (map-set ParticipantPoints tx-sender 1000)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: 3,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        callPrivateFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { Cl, cvToValue } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get('deployer')!;
    const address1 = accounts.get("wallet_1")!

    const rewardParticipantPoints = simnet.callPrivateFn(
      "pool",
      "reward-participant-points",
      [Cl.standardPrincipal(address1)],
      wallet
    );

    const response = cvToValue(registerParticipant.result); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:reward-participant-points]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })
        (define-map ParticipantPoints principal int)

        (define-public (register-participant (who principal))
          (begin
            (map-set Participants who true)
            (map-set ParticipantStatus who { enrollmentBlock: block-height, contributionAmount: u0 })
            (reward-participant-points who)
            (print { message: "Registered", who: who, at: block-height })
            (ok true)
          )
        )

        (define-private (reward-participant-points (who principal))
            (map-insert ParticipantPoints who 100)
        )

        (map-set Participants tx-sender true)
        (map-set ParticipantStatus tx-sender { enrollmentBlock: block-height, contributionAmount: u42000000 })
        (map-set ParticipantPoints tx-sender 1000)
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        callPrivateFn(
          contract: string,
          method: string,
          args: ClarityValue[],
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`transferSTX`</h2>

Transfer STX from one address to another. The amount transferred is in `uSTX`.

This method will simulate a block being mined and increase the block height by one.

## Parameters

<Property required={true} deprecated={false} name={"amount"} type={"number | bigint"}>
The amount of `uSTX` to transfer.

<span>Example: `1000000` equals 1 STX</span>
</Property>

<Property required={true} deprecated={false} name={"recipient"} type={"string"}>
The Stacks address of the recipient.

<span>Example: `ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Transferring STX</Badge>
    </TabsTrigger>
    <TabsTrigger value="clarity-value" className='tab group'>
      <Badge className='badge transition-colors'>Converting Clarity values</Badge>
    </TabsTrigger>
    <TabsTrigger value="events" className='tab group'>
      <Badge className='badge transition-colors'>Filtering for contract events</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:transferSTX]
    const accounts = simnet.getAccounts();
    const recipient = accounts.get('wallet_1')!;

    const transfer = simnet.transferSTX(
      42000000, // 42 STX
      recipient,
      simnet.deployer
    );
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          result: {
            type: 7,
            value: {
              type: 3,
            },
          },
          events: [
            {
              event: "stx_transfer_event",
              data: [
                {
                  amount: "42000000",
                  memo: "",
                  recipient: "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
                  sender: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
                },
              ],
            }
          ],
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        transferSTX(
          amount: number | bigint,
          recipient: string,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="clarity-value">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { cvToValue } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const recipient = accounts.get('wallet_1')!;

    const transfer = simnet.transferSTX(
      42000000, // 42 STX
      recipient,
      simnet.deployer
    );

    const response = cvToValue(transfer.result); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        transferSTX(
          amount: number | bigint,
          recipient: string,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="events">
    ```ts twoslash
    // @noErrors
    const accounts = simnet.getAccounts();
    const recipient = accounts.get('wallet_1')!;

    const transfer = simnet.transferSTX(
      42000000, // 42 STX
      recipient,
      simnet.deployer
    );

    const events = transfer.events.map((event) => event); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        [
          {
            event: "stx_transfer_event",
            data: {
              amount: "42000000",
              memo: "",
              recipient: "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
              sender: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
            },
          }
        ]
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        transferSTX(
          amount: number | bigint,
          recipient: string,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`deployContract`</h2>

Deploy a contract to simnet.

This method will simulate a block being mined and increase the block height by one.

## Parameters

<Property required={true} deprecated={false} name={"name"} type={"string"}>
The name of the contract to be deployed.

<span>Example: `hello-world`</span>
</Property>

<Property required={true} deprecated={false} name={"content"} type={"string"}>
The Clarity source code (or content) of the contract.

<span>Example: `(define-read-only (say-hi) (ok "Hello World"))`</span>
</Property>

<Property required={false} deprecated={false} name={"options"} type={"DeployContractOptions | null"}>
An object to specify options, such as the Clarity version.

<span>Example: `{ clarityVersion: 2 }` | `null`</span>
</Property>

<Property required={true} deprecated={false} name={"sender"} type={"string"}>
The Stacks address of the sender.

<span>Example: `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Deploying your contract</Badge>
    </TabsTrigger>
    <TabsTrigger value="options" className='tab group'>
      <Badge className='badge transition-colors'>Specifying a Clarity version</Badge>
    </TabsTrigger>
    <TabsTrigger value="interact" className='tab group'>
      <Badge className='badge transition-colors'>Interacting with your contract</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    // [!code word:deployContract]
    import { cvToValue } from '@stacks/transactions';

    const sourceCode = '(define-read-only (say-hi) (ok "Hello World"))';

    const contract = simnet.deployContract(
      'hello-world',
      sourceCode,
      null,
      simnet.deployer
    );

    const response = cvToValue(contract.result); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        true
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        deployContract(
          name: string,
          content: string,
          options: DeployContractOptions | null,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="options">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { cvToValue } from '@stacks/transactions';

    const sourceCode = '(define-read-only (say-hi) (ok "Hello World"))';

    const contract = simnet.deployContract(
      'hello-world',
      sourceCode,
      { clarityVersion: 2 }, // [!code highlight]
      simnet.deployer
    );

    const response = cvToValue(contract.result); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        true
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        deployContract(
          name: string,
          content: string,
          options: DeployContractOptions | null,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="interact">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { cvToValue } from '@stacks/transactions';

    const sourceCode = '(define-read-only (say-hi) (ok "Hello World"))';

    simnet.deployContract(
      'hello-world',
      sourceCode,
      null,
      simnet.deployer
    );

    const sayHi = simnet.callReadOnlyFn("hello-world", "say-hi", [], simnet.deployer); // [!code highlight]

    const response = sayHi.result
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          type: "(string-ascii 11)",
          value: "Hello World",
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        deployContract(
          name: string,
          content: string,
          options: DeployContractOptions | null,
          sender: string
        ): ParsedTransactionResult
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`mineBlock`</h2>

The `callPublicFn`, `transferSTX`, and `deployContract` methods all mine one block with only one transaction. It can also be useful to mine a block with multiple transactions.

This is what `mineBlock` is for.

This method takes an array of transaction objects. The transactions can be built with the `tx` helper exported by the SDK.

The `tx` helper has three methods:

- `callPublicFn`
- `transferSTX`
- `deployContract`

These methods have the same interface as simnet methods but instead of performing a transaction, they will build a transaction object that can be passed to the `mineBlock` function.

In epochs from 3.0 on, the stacks chaintip is advanced separately from the burn chaintip. This means `mineBlock` will only affect the stacks chaintip. If you'd like to also mine burn blocks, use the `mineEmptyBurnBlock` function.

## Parameters

<Property required={true} deprecated={false} name={"txs"} type={"Tx[]"}>
An array of transactions to be included in the block.

<span>Example: `[tx.transferSTX(100, recipient, sender), ...]`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Mining multiple transactions in a single block</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:tx]
    // [!code word:mineBlock]
    import { tx } from '@hirosystems/clarinet-sdk';
    import { Cl, cvToValue } from '@stacks/transactions';

    const accounts = simnet.getAccounts();
    const wallet = accounts.get("wallet_1")!;

    const block = simnet.mineBlock([
      tx.callPublicFn("counter", "increment", [], simnet.deployer),
      tx.callPublicFn("counter", "add", [Cl.uint(10)], simnet.deployer),
      tx.transferSTX(19000000, wallet, simnet.deployer),
    ]);

    block.forEach((transaction) => {
      console.log(cvToValue(transaction.result));
      if (transaction.events.length > 0) console.log(transaction.events);
    });
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="counter.clar"
        // [!code word:increment]
        // [!code word:add]
        (define-data-var count uint u0)

        (define-public (increment)
          (begin
            (var-set count (+ (var-get count) u1))
            (ok (var-get count))
          )
        )

        (define-public (add (amount uint))
          (begin
            (var-set count (+ (var-get count) amount))
            (ok (var-get count))
          )
        )
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          type: "uint",
          value: "1",
        }
        {
          type: "uint",
          value: "11",
        }
        {
          type: "bool",
          value: true,
        }
        [
          {
            event: "stx_transfer_event",
            data: {
              amount: "19000000",
              memo: "",
              recipient: "ST1SJ3DTE5DN7X54YDH5D64R3BCB6A2AG2ZQ8YPD5",
              sender: "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM",
            },
          }
        ]
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        type ParsedTransactionResult = {
          result: ClarityValue;
          events: ClarityEvent[];
        }

        mineBlock(txs: Tx[]): ParsedTransactionResult[]
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`mineEmptyBlock`</h2>

Mine one empty block and increase the block height by one.

Returns the new block height.

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Mining an empty block</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:mineEmptyBlock]
    simnet.mineEmptyBlock();

    const response = simnet.blockHeight; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        2
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        mineEmptyBlock(): number
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`mineEmptyBlocks`</h2>

Mine multiple empty blocks to reach a certain block height.

Returns the new block height.

## Parameters

<Property required={false} deprecated={false} name={"count"} type={"number"}>
The number of empty blocks to mine. This parameter is optional.

<span>Example: `5`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Mining multiple empty blocks</Badge>
    </TabsTrigger>
    <TabsTrigger value="options" className='tab group'>
      <Badge className='badge transition-colors'>Mining an empty block without a count</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:mineEmptyBlocks]
    // [!code word:5]
    simnet.mineEmptyBlocks(5);

    const response = simnet.blockHeight; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        6
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        mineEmptyBlocks(count?: number): number
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="options">
    ```ts twoslash
    // @noErrors
    // [!code word:mineEmptyBlocks]
    simnet.mineEmptyBlocks();

    const response = simnet.blockHeight; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        2
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        mineEmptyBlocks(count?: number): number
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`runSnippet`</h2>

Execute arbitrary Clarity code directly, which allows you to test and interact with smart contract functions without deploying them.

## Parameters

<Property required={true} deprecated={false} name={"snippet"} type={"string"}>
The Clarity code snippet to be executed.

<span>Example: `(define-read-only (get-balance) (ok stx-balance))`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Executing arbitrary Clarity code</Badge>
    </TabsTrigger>
    <TabsTrigger value="transfer" className='tab group'>
      <Badge className='badge transition-colors'>Running a snippet for a STX transfer</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:runSnippet]
    // [!code word:prettyPrint]
    import { Cl } from '@stacks/transactions';

    const codeSnippet = simnet.runSnippet(
      '(stx-account tx-sender)'
    );

    const response = Cl.prettyPrint(codeSnippet, 2); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          locked: u0,
          unlock-height: u0,
          unlocked: u100000000000000
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        runSnippet(snippet: string): string | ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="transfer">
    ```ts twoslash
    // @noErrors
    // [!code word:cvToValue]
    import { cvToValue } from "@stacks/transactions";

    const accounts = simnet.getAccounts();
    const recipient = accounts.get("wallet_1")!;

    const codeSnippet = simnet.runSnippet(
      `(stx-transfer? u19000000 tx-sender '${recipient})`
    );

    const response = cvToValue(codeSnippet); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          type: "bool",
          value: true,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        runSnippet(snippet: string): string | ClarityValue
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`getContractsInterfaces`</h2>

Returns the interfaces of the project contracts as a Map of Contracts, with the keys being the contract addresses.

These interfaces contain information such as the available `functions`, `data-vars`, `maps`, `NFTs`, and `FTs` defined in the contract.

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Getting a specific contract interface</Badge>
    </TabsTrigger>
    <TabsTrigger value="filter" className='tab group'>
      <Badge className='badge transition-colors'>Filtering for contract functions</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:getContractsInterfaces]
    const contractInterfaces = simnet.getContractsInterfaces();

    const response = contractInterfaces.get(`${simnet.deployer}.pool`); // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        {
          functions: [
            {
              name: "get-participant",
              access: "read_only",
              args: [
                [Object ...]
              ],
              outputs: [Object ...],
            }, {
              name: "is-active",
              access: "read_only",
              args: [],
              outputs: [Object ...],
            }
          ],
          variables: [],
          maps: [
            {
              name: "ParticipantStatus",
              key: "principal",
              value: [Object ...],
            }, {
              name: "Participants",
              key: "principal",
              value: "bool",
            }
          ],
          fungible_tokens: [],
          non_fungible_tokens: [],
          epoch: "Epoch25",
          clarity_version: "Clarity2",
        }

        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractsInterfaces(): Map<string, ContractInterface>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
  <TabsContent value="filter">
    ```ts twoslash
    // @noErrors
    const poolContract = contractInterfaces.get(`${simnet.deployer}.pool`);

    const response = poolContract?.functions; // [!code highlight]
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        // [!code word:get-participant]
        // [!code word:is-active]
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )
        ```
      </Accordion>
      <Accordion title="Response">
        ```ts
        [
          {
            name: "get-participant",
            access: "read_only",
            args: [
              [Object ...]
            ],
            outputs: [Object ...],
          }, {
            name: "is-active",
            access: "read_only",
            args: [],
            outputs: [Object ...],
          }
        ]

        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractsInterfaces(): Map<string, ContractInterface>
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`getContractSource`</h2>

Get the source code of a contract as a string.

## Parameters

<Property required={true} deprecated={false} name={"contract"} type={"string"}>
The identifier of the contract for which the source code is requested.

<span>Example: `pool`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Getting the source code of a contract</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:getContractSource]
    const contractSource = simnet.getContractSource('pool');
    ```

    <Accordions>
      <Accordion title="Source code">
        ```clarity title="pool.clar"
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )
        ```
      </Accordion>
      <Accordion title="Response">
        ```console
        (define-map Participants principal bool)
        (define-map ParticipantStatus principal { enrollmentBlock: uint, contributionAmount: uint })

        (define-read-only (get-participant (who principal))
          (map-get? ParticipantStatus who)
        )

        (define-read-only (is-active)
          (map-get? Participants tx-sender)
        )
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractSource(contract: string): string | undefined
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

<API className='my-20'>

<div className='flex-1'>

<h2 className="mt-0">`getContractAST`</h2>

Get the full AST (Abstract Syntax Tree) of a Clarity contract.

This method throws an error if it fails to get the AST or to encode it.

## Parameters

<Property required={true} deprecated={false} name={"contractId"} type={"string"}>
The identifier of the contract for which the AST (Abstract Syntax Tree) is requested.

<span>Example: `pool`</span>
</Property>

</div>

<APIExample>

<Tabs defaultValue="default">
  <TabsList className='flex flex-wrap'>
    <TabsTrigger value="default" className='tab group'>
      <Badge className='badge transition-colors'>Getting the source code of a contract</Badge>
    </TabsTrigger>
  </TabsList>
  <TabsContent value="default">
    ```ts twoslash
    // @noErrors
    // [!code word:getContractAST]
    const contractAST = simnet.getContractAST('pool');
    ```

    <Accordions>
      <Accordion title="Response">
        ```ts
        {
          contract_identifier: {
            issuer: [ 26, [
                109, 120, 222, 123, 6, 37, 223, 191, 193, 108, 58, 138, 87, 53, 246, 220,
                61, 195, 242, 206
              ] ],
            name: "pool",
          },
          pre_expressions: [],
          expressions: [
            {
              expr: [Object ...],
              id: 1,
              span: [Object ...],
              pre_comments: [],
              end_line_comment: undefined,
              post_comments: [],
            },
            ...
          ],
          top_level_expression_sorting: [ 0, 1, 2, 3 ],
          referenced_traits: Map {},
          implemented_traits: [],
          wasm_module: undefined,
        }
        ```
      </Accordion>
      <Accordion title="Schema">
        ```ts
        getContractAST(contractId: string): ContractAST
        ```
      </Accordion>
    </Accordions>

  </TabsContent>
</Tabs>

</APIExample>

</API>

</Root>
