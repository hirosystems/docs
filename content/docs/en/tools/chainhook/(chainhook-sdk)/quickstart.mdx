---
title: SDK Quickstart
description: Get started with the Chainhook SDK in 5 minutes
---

# SDK Quickstart

This guide will help you create and enable your first chainhook using the Chainhook SDK in just a few minutes.

## Prerequisites

- Node.js 16+ installed
- A Hiro API key (get one from [Hiro Platform](https://platform.hiro.so))
- A webhook endpoint to receive events (you can use [ngrok](https://ngrok.com/) or [webhook.site](https://webhook.site) for testing)

## Step 1: Install the SDK

<TerminalPicker>
  ```terminal !! npm
  npm install @hirosystems/chainhooks-client
  ```

  ```terminal !! yarn
  yarn add @hirosystems/chainhooks-client
  ```

  ```terminal !! pnpm
  pnpm add @hirosystems/chainhooks-client
  ```

  ```terminal !! bun
  bun add @hirosystems/chainhooks-client
  ```
</TerminalPicker>

## Step 2: Set Up Environment Variables

Create a `.env` file in your project root:

```bash
HIRO_API_KEY=your_api_key_here
WEBHOOK_URL=https://your-webhook-url.com/chainhook
```

:::callout{type="warning"}
Never commit your `.env` file to version control. Add it to `.gitignore`.
:::

## Step 3: Initialize the Client

Create a file called `chainhook-example.ts` (or `.js`):

```typescript
import { ChainhooksClient, CHAINHOOKS_BASE_URL } from '@hirosystems/chainhooks-client';

const client = new ChainhooksClient({
  baseUrl: CHAINHOOKS_BASE_URL.testnet, // Use testnet for development
  apiKey: process.env.HIRO_API_KEY!,
});
```

## Step 4: Create Your First Chainhook

Let's create a chainhook that triggers on FT transfers:

```typescript
async function createChainhook() {
  const chainhook = await client.registerChainhook({
    version: '1',
    name: 'my-first-chainhook',
    chain: 'stacks',
    network: 'testnet',
    filters: {
      events: [
        {
          type: 'ft_transfer',
        },
      ],
    },
    action: {
      type: 'http_post',
      url: process.env.WEBHOOK_URL!,
    },
    options: {
      decode_clarity_values: true,
      enable_on_registration: true, // Enable immediately
    },
  });

  console.log('‚úÖ Chainhook created and enabled!');
  console.log('UUID:', chainhook.uuid);
  console.log('Status:', chainhook.status);

  return chainhook;
}

createChainhook().catch(console.error);
```

## Step 5: Run Your Code

Execute your script:

<TerminalPicker>
  ```terminal !! Node.js
  node chainhook-example.js
  ```

  ```terminal !! TypeScript
  ts-node chainhook-example.ts
  ```

  ```terminal !! Bun
  bun run chainhook-example.ts
  ```
</TerminalPicker>

You should see output like:

```
‚úÖ Chainhook created and enabled!
UUID: be4ab3ed-b606-4fe0-97c4-6c0b1ac9b185
Status: { enabled: true, type: 'active', ... }
```

## Step 6: Verify Your Chainhook

Check that your chainhook is active:

```typescript
async function verifyChainhook(uuid: string) {
  const chainhook = await client.getChainhook(uuid);

  console.log('Name:', chainhook.definition.name);
  console.log('Enabled:', chainhook.status.enabled);
  console.log('Network:', chainhook.definition.network);
}
```

## Step 7: Receive Webhook Events

When FT transfers occur on Stacks testnet, your webhook endpoint will receive payloads like:

```json
{
  "event": {
    "apply": [
      {
        "transactions": [
          {
            "operations": [
              {
                "type": "token_transfer",
                "amount": { "value": "1000000" },
                "account": { "address": "SP..." }
              }
            ]
          }
        ]
      }
    ]
  },
  "chainhook": {
    "name": "my-first-chainhook",
    "uuid": "be4ab3ed-b606-4fe0-97c4-6c0b1ac9b185"
  }
}
```

## Complete Example

Here's a complete working example:

```typescript
import { ChainhooksClient, CHAINHOOKS_BASE_URL } from '@hirosystems/chainhooks-client';
import 'dotenv/config';

const client = new ChainhooksClient({
  baseUrl: CHAINHOOKS_BASE_URL.testnet,
  apiKey: process.env.HIRO_API_KEY!,
});

async function main() {
  try {
    // Create and enable chainhook
    const chainhook = await client.registerChainhook({
      version: '1',
      name: 'ft-transfer-tracker',
      chain: 'stacks',
      network: 'testnet',
      filters: {
        events: [
          {
            type: 'ft_transfer',
          },
        ],
      },
      action: {
        type: 'http_post',
        url: process.env.WEBHOOK_URL!,
      },
      options: {
        decode_clarity_values: true,
        enable_on_registration: true,
      },
    });

    console.log('‚úÖ Chainhook created!');
    console.log('UUID:', chainhook.uuid);
    console.log('Enabled:', chainhook.status.enabled);

    // Verify it was created
    const retrieved = await client.getChainhook(chainhook.uuid);
    console.log('‚úÖ Verified chainhook:', retrieved.definition.name);

    // List all your chainhooks
    const allChainhooks = await client.getChainhooks({ limit: 10 });
    console.log(`üìã You have ${allChainhooks.total} chainhook(s)`);

  } catch (error) {
    console.error('‚ùå Error:', error);
  }
}

main();
```

## Testing Your Webhook

To test your webhook endpoint locally:

1. **Use ngrok** to expose your local server:
   ```bash
   ngrok http 3000
   ```

2. **Use webhook.site** to inspect incoming payloads:
   - Visit [webhook.site](https://webhook.site)
   - Copy the unique URL
   - Use it as your `WEBHOOK_URL`

3. **Trigger a test event** on Stacks testnet (make an FT transfer)

## Next Steps

Now that you have a basic chainhook running, explore more advanced features:

:::next-steps
* [Register & Enable](/tools/chainhook/register-enable): Learn about all registration options
* [Filter Reference](/tools/chainhook/reference/filters): Explore all available event filters
:::

## Troubleshooting

### API Key Error

If you see `401 Unauthorized`:
- Verify your API key is correct
- Ensure it's properly set in environment variables
- Check that you're using the correct base URL (testnet vs mainnet)

### Webhook Not Receiving Events

If your webhook isn't receiving payloads:
- Verify the webhook URL is publicly accessible
- Check that `enable_on_registration: true` is set
- Ensure your filter matches actual blockchain events
- Verify the chainhook status with `getChainhook()`

### TypeScript Errors

If you encounter TypeScript errors:
```bash
npm install --save-dev @types/node
```
