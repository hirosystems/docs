---
title: Crear chainhooks
description: Crear y activar chainhooks usando el SDK de Chainhook
---
# Registrar y Habilitar

Aprende cómo crear y activar chainhooks usando el SDK de Chainhook.

## registerChainhook

Crea una nueva configuración de chainhook. Por defecto, los nuevos chainhooks se crean en un estado deshabilitado a menos que `enable_on_registration` está establecido en `true`.

### Ejemplo

```ts -nc
import { ChainhooksClient, CHAINHOOKS_BASE_URL } from '@hirosystems/chainhooks-client';

const client = new ChainhooksClient({
  baseUrl: CHAINHOOKS_BASE_URL.testnet,
  apiKey: process.env.HIRO_API_KEY!,
});

const chainhook = await client.registerChainhook({
  version: '1',
  name: 'my-chainhook',
  chain: 'stacks',
  network: 'testnet',
  filters: {
    events: [
      {
        type: 'contract_call',
        contract_identifier: 'SP...XYZ.counter',
        function_name: 'increment',
      },
    ],
  },
  action: {
    type: 'http_post',
    url: 'https://example.com/webhooks',
  },
  options: {
    decode_clarity_values: true,
    enable_on_registration: true,
  },
});

console.log('Chainhook UUID:', chainhook.uuid);
console.log('Enabled:', chainhook.status.enabled); // true
```

Si no estableces `enable_on_registration`, el chainhook será creado pero deshabilitado por defecto.

***

## enableChainhook

Enable or disable a single chainhook by UUID. This allows you to enable chainhooks after registration or pause without deleting it.

### Ejemplos

```typescript -nc
// Enable a chainhook
await client.enableChainhook('chainhook-uuid', true);

// Disable a chainhook
await client.enableChainhook('chainhook-uuid', false);
```

Returns HTTP `204 No Content` tras el éxito.

***

## bulkEnableChainhooks

Habilite o deshabilite múltiples chainhooks a la vez usando filtros. Esto es útil para gestionar muchos chainhooks programáticamente.

### Por UUIDs

Habilitar chainhooks específicos por sus UUIDs (máximo 200):

```typescript -nc
await client.bulkEnableChainhooks({
  enabled: true,
  filters: {
    // !mark(1:5)
    uuids: [
      'uuid-1',
      'uuid-2',
      'uuid-3',
    ],
  },
});
```

### Por URL de Webhook

Enable all chainhooks that POST to a specific URL:

```typescript -nc
await client.bulkEnableChainhooks({
  enabled: true,
  filters: {
    // !mark
    webhook_url: 'https://example.com/webhooks',
  },
});
```

### Por Estado

Habilitar todos los chainhooks con un estado específico:

```typescript -nc

await client.bulkEnableChainhooks({
  enabled: true,
  filters: {
    // !mark
    statuses: ['inactive'],
  },
});
```

### Filtros Combinados

Usa múltiples filtros juntos:

```typescript -nc
await client.bulkEnableChainhooks({
  enabled: false, // Disable matching chainhooks
  filters: {
    // !mark(1:2)
    webhook_url: 'https://old-server.com/webhooks',
    statuses: ['active'],
  },
});
```

This will disable all active chainhooks that POST to the old webhook URL.

## Próximos pasos

:::next-steps
* [Evaluar](/tools/chainhook/evaluate): Prueba chainhooks contra bloques pasados
* [Referencia de Filtros](/tools/chainhook/reference/filters): Explora todas las opciones de filtro
:::
