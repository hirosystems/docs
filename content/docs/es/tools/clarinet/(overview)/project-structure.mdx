---
title: Estructura del proyecto
sidebarTitle: Estructura del proyecto
description: Comprende la estructura y configuración completa de un proyecto Clarinet
type: concept
---
Un proyecto de Clarinet sigue una estructura cuidadosamente diseñada que separa contratos, pruebas y configuración. Comprender esta estructura te ayuda a organizar el código de manera efectiva y configurar herramientas para un flujo de trabajo de desarrollo óptimo.

## Diseño básico del proyecto

Cada proyecto de Clarinet contiene estos directorios y archivos esenciales:

<Files className="font-fono pointer-events-none bg-background">
  <Folder name="my-project" defaultOpen>
    <Folder name=".vscode" />

    <Folder name="contracts" defaultOpen>
      <File name="main.clar" />

      <File name="trait.clar" />
    </Folder>

    <Folder name="deployments" />

    <Folder name="settings" defaultOpen>
      <File name="Devnet.toml" />

      <File name="Mainnet.toml" />

      <File name="Testnet.toml" />
    </Folder>

    <Folder name="tests" defaultOpen>
      <File name="main.test.ts" />
    </Folder>

    <File name=".gitignore" />

    <File name="Clarinet.toml" />

    <File name="package.json" />

    <File name="tsconfig.json" />

    <File name="vitest.config.js" />
  </Folder>
</Files>

Cada componente cumple un propósito específico en su flujo de trabajo de desarrollo. Exploremos cómo funcionan juntos para crear un entorno de desarrollo completo.

## El manifiesto del proyecto

### Clarinet.toml

El **Clarinet.toml** file es el corazón de su proyecto. Define los metadatos del proyecto y rastrea todos los contratos:

```toml Clarinet.toml
[project]
name = "counter"
description = "A counter smart contract"

[contracts.traits]
path = "contracts/traits.clar"
clarity_version = 3
epoch = "latest"

[contracts.counter]
path = 'contracts/counter.clar'
clarity_version = 3
epoch = "latest"
```

El manifiesto maneja varias funciones críticas:

* **Registro de contrato**: Todo contrato debe estar listado aquí
* **Época de Stacks y versión de Clarity**: Especifica la versión de Clarity y la época para cada contrato
* **Secuencia de arranque**: Lista los contratos a desplegar `clarinet devnet start`

### Configuración de época

Puedes especificar la época de dos maneras:

```toml
# Use a specific epoch version
epoch = 3.1

# Use the latest available epoch (default)
epoch = "latest"
```

Usando `"latest"` garantiza que tus contratos siempre utilicen las características y optimizaciones de Clarity más recientes disponibles en tu versión de Clarinet.

## Infraestructura de pruebas

### Configuración del paquete

El **package.json** define su entorno de pruebas y dependencias:

```json package.json
{
  "name": "counter-tests",
  "version": "1.0.0",
  "description": "Run unit tests on this project.",
  "type": "module",
  "private": true,
  "scripts": {
    "test": "vitest run",
    "test:report": "vitest run -- --coverage --costs",
    "test:watch": "chokidar \"tests/**/*.ts\" \"contracts/**/*.clar\" -c \"npm run test:report\""
  },
  "author": "",
  "license": "ISC",
  "dependencies": {
    "@hirosystems/clarinet-sdk": "^3.0.2",
    "@stacks/transactions": "^7.0.6",
    "@types/node": "^24.0.14",
    "chokidar-cli": "^3.0.0",
    "vitest": "^3.1.3",
    "vitest-environment-clarinet": "^2.3.0"
  }
}
```

| Paquete | Propósito |
|---------|---------|
| `@hirosystems/clarinet-sdk` | Clarinete compilado en WebAssembly para Node.js |
| `@stacks/transactions` | Manipulación de valores de Clarity en TypeScript |
| `vitest` | Marco de pruebas moderno con soporte nativo para TypeScript |
| `vitest-environment-clarinet` | Arranque de Simnet para pruebas |

### Configuración de Vitest

El **vitest.config.js** configura el marco de pruebas:

```js vitest.config.js
/// <reference types="vitest" />
import { defineConfig } from "vite";
import { vitestSetupFilePath, getClarinetVitestsArgv } from "@hirosystems/clarinet-sdk/vitest";

export default defineConfig({
  test: {
    environment: "clarinet", // use vitest-environment-clarinet
    pool: "forks",
    poolOptions: {
      threads: { singleThread: true },
      forks: { singleFork: true },
    },
    setupFiles: [
      vitestSetupFilePath,
      // custom setup files can be added here
    ],
    environmentOptions: {
      clarinet: {
        ...getClarinetVitestsArgv(),
        // add or override options
      },
    },
  },
});
```

Esta configuración permite:

* **Entorno de clarinete**: Automático `simnet` configuración para cada prueba
* **Modo de horquilla única**: Ejecución eficiente de pruebas con aislamiento adecuado
* **Seguimiento de cobertura**: Generar informes en múltiples formatos
* **Configuración personalizada**: Agregar utilidades de prueba específicas del proyecto

### Configuración de TypeScript

El **tsconfig.json** proporciona soporte para TypeScript:

```json tsconfig.json

{
  "compilerOptions": {
    "target": "ESNext",
    "useDefineForClassFields": true,
    "module": "ESNext",
    "lib": ["ESNext"],
    "skipLibCheck": true,

    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,

    "strict": true,
    "noImplicitAny": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "noFallthroughCasesInSwitch": true
  },
  // !mark(1:4)
  "include": [
    "node_modules/@hirosystems/clarinet-sdk/vitest-helpers/src",
    "tests"
  ]
}
```

Es importante configurar correctamente la propiedad include, por defecto apunta a los archivos de ayuda definidos en el paquete clarinet-sdk, y al directorio de pruebas.

## Configuraciones de red

### Configuración del entorno

Cada red tiene su propio archivo de configuración en el **configuración** directorio:

```toml settings/Devnet.toml
[network]
name = "devnet"
deployment_fee_rate = 10

[accounts.deployer]
mnemonic = "twice kind fence tip hidden..."
balance = 100_000_000_000_000

[accounts.wallet_1]
mnemonic = "sell invite acquire kitten..."
balance = 10_000_000_000_000
```

Estos ajustes controlan:

* **Puertos de red**: Puntos finales de API, RPC y explorador
* **Configuración de la cuenta**: Carteras de prueba con saldos de STX
* **Parámetros de cadena**: Configuración específica de la red de blockchain

:::callout
type: warn

### Aviso de Seguridad

Nunca comprometas claves privadas o frases mnemónicas de la red principal. Utiliza variables de entorno para las credenciales de producción.
:::

## Problemas comunes

<Accordion type="single" collapsible>
  <AccordionItem value="resolución-de-módulos">
    <AccordionTrigger>Importaciones fallando en pruebas</AccordionTrigger>

    <AccordionContent>
      <div className="pb-4 pt-2">
        Si estás encontrando errores de importación en tus pruebas, actualiza tu configuración de TypeScript para usar la resolución del empaquetador de Vite:

        ```json tsconfig.json
        {
          "compilerOptions": {
            "moduleResolution": "bundler", // !mark
            "allowImportingTsExtensions": true
          }
        }
        ```

        Esta configuración garantiza que TypeScript comprenda la estrategia de resolución de módulos de Vite y permita la importación `.ts` archivos directamente.
      </div>
    </AccordionContent>
  </AccordionItem>

  <AccordionItem value="claridad-versión">
    <AccordionTrigger>Versiones incompatibles</AccordionTrigger>

    <AccordionContent>
      <div className="pb-4 pt-2">
        Todos los contratos en su proyecto deben usar la misma versión de Clarity y época para evitar problemas de compatibilidad:

        ```toml Clarinet.toml
        [contracts.token]
        clarity_version = 3
        epoch = "latest" # !mark

        [contracts.pool]
        clarity_version = 3
        epoch = "latest" # !mark
        ```

        Las versiones incompatibles pueden causar fallos de implementación y comportamientos inesperados. Siempre actualice todos los contratos juntos al cambiar a una nueva versión de Clarity.
      </div>
    </AccordionContent>
  </AccordionItem>
</Accordion>

## Próximos pasos

:::next-steps
* [Escribiendo contratos de Clarity](/tools/clarinet/project-development): Crea y gestiona contratos de Clarity.
* [Pruebas y validación](/tools/clarinet/contract-interaction): Interactúa con contratos de Clarity en tu proyecto.
:::
